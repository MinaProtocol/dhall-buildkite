name: Build and Test

on:
    push:
    pull_request:

jobs:
    build:
        name: Build and Test
        runs-on: dhallhaskell/dhall:1.30.0

        steps:
          - name: "Checkout code"
            uses: actions/checkout@v3

          - name: "Syntax Check"
            run: make check_syntax

          - name: "Lint Check"
            run: make check_lint

          - name: "Format Check"
            run: make check_format

          - name: "Examples Check"
            run: make check_format

          - name: "Test Release"
              run: make release